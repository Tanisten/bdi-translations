@app.route('/ai-help', methods=['POST'])
def ai_help():
    try:
        code = request.json.get('code')
        api_key = os.getenv('GOOGLE_API_KEY')
        headers = {
            'Authorization': f'Bearer {api_key}',
            'Content-Type': 'application/json',
        }
        data = {
            'prompt': f'Help me write Python code for the following task: {code}'
        }
        response = requests.post('https://api.gemini.example.com/v1/endpoint', json=data, headers=headers)
        response.raise_for_status()  # Проверка на ошибки HTTP
        return jsonify({'ai_response': response.json()})
    except requests.exceptions.RequestException as e:
        print(f"Error: {e}")  # Выводим ошибку в консоль
        return jsonify({'error': str(e)}), 500  # Возвращаем ошибку клиенту
